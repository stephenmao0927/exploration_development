<!-- Spawns Kobuki inside a Gazebo simulation -->
<launch>
  <arg name="robot_name" default="/"/>
  <arg name="init_pose" default="-x 0 -y 0 -z 0"/>
  <!-- load model parameters -->
  <arg name="laser_3d_enabled" default="1" />
  <arg name="laser_3d_topic" default="rs_points" />
  <arg name="laser_3d_prefix" default=" " />
  <arg name="laser_3d_parent" default="autokit_base_link" />
  <arg name="laser_3d_xyz" default="-0.0557 0 0.494" />
  <arg name="laser_3d_rpy" default="0 0 0" />

  <arg name="realsense_enabled" default="1" />
  <arg name="realsense_topic" default="realsense" />
  <arg name="realsense_prefix" default=" " />
  <arg name="realsense_parent" default="autokit_base_link" />
  <arg name="realsense_xyz" default="0.03 0 0.4541" />
  <arg name="realsense_rpy" default="0 0 0" />

  <param name="robot_description" command="$(find xacro)/xacro '$(find autokit_hunter_se_description)/urdf/hunterSE_autokit.xacro' 
          --inorder 
          robot_namespace:=$(arg robot_name) 
          laser_3d_enabled:=$(arg laser_3d_enabled) 
          laser_3d_topic:=$(arg laser_3d_topic)
          laser_3d_prefix:=$(arg laser_3d_prefix) 
          laser_3d_parent:=$(arg laser_3d_parent)
          realsense_enabled:=$(arg realsense_enabled) 
          realsense_topic:=$(arg realsense_topic) 
          realsense_prefix:=$(arg realsense_prefix) 
          realsense_parent:=$(arg realsense_parent)" 
  />

  <node pkg="gazebo_ros" type="spawn_model" name="spawn_$(arg robot_name)" 
        args="$(arg init_pose) -unpause -urdf -param robot_description -model $(arg robot_name)">
  </node>
 
  <node pkg="robot_state_publisher" type="robot_state_publisher" name="robot_state_publisher">
      <param name="publish_frequency" type="double" value="30.0" />
      <param name="use_tf_static" type="bool" value="false" />
      <param name="tf_prefix" type="string" value="$(arg robot_name)"/>
      <!-- <param name="robot_description" command="$(find xacro)/xacro '$(find hunter2_explorer)/launch/include/urdf/hunter2_gazebo.xacro'" /> -->
  </node>

</launch>
